<!doctype html>
<html lang="en">
<head>
 <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Free Modern Resume Builder — Create & Download Your Resume</title>
  <meta name="description" content="Create a professional modern resume online with our free resume builder. Add your skills, languages, experience and education, preview instantly, and export to PDF." />
  <meta name="keywords" content="resume builder, cv creator, free resume maker, modern resume, online cv generator" />
  <meta name="author" content="EffortlesslyDone / Decomplicate" />

  <meta property="og:title" content="Free Modern Resume Builder — Create & Download Your Resume" />
  <meta property="og:description" content="Create a professional modern resume online. Add details, preview instantly, and download as PDF." />
  <meta property="og:type" content="website" />

  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Free Modern Resume Builder — Create & Download Your Resume" />
  <meta name="twitter:description" content="Create your resume online for free. Add skills, experience, and download as PDF instantly." />
 <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-PBJYBJBFBC"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-PBJYBJBFBC');
</script>
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebApplication",
    "name": "EffortlesslyDone Resume Builder",
    "url": "https://yourdomain.example/resume-builder",
    "applicationCategory": "BusinessApplication",
    "operatingSystem": "All",
    "description": "Free resume builder to create, preview, and download your modern CV.",
    "author": {
      "@type": "Organization",
      "name": "EffortlesslyDone"
    }
  }
  </script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Poppins:wght@500;700&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js" defer></script>


  <style>
    :root {
        /* Vibrant Indigo and Coral Theme (from homepage) */
        --color-white: #FFFFFF;
        --color-black: #000000;
        --color-indigo-500: #4B0082;
        --color-indigo-600: #3F0071;
        --color-indigo-700: #311B92;
        --color-coral-500: #FF6F61;
        --color-coral-600: #F05447;
        --color-gray-100: #F5F5F5;
        --color-gray-200: #E0E0E0;
        --color-gray-300: #BDBDBD;
        --color-gray-700: #424242;
        --color-green-500: #4CAF50;
        --color-red-500: #EF5350;

        /* Semantic Colors (matching homepage) */
        --color-background: var(--color-gray-100);
        --color-surface: var(--color-white);
        --color-text: var(--color-gray-700);
        --color-text-secondary: var(--color-gray-300);
        --color-primary: var(--color-indigo-500);
        --color-primary-hover: var(--color-indigo-600);
        --color-secondary: var(--color-coral-500);
        --color-secondary-hover: var(--color-coral-600);
        --color-border: var(--color-gray-200);
        --color-card-border: var(--color-gray-200);
        --color-success: var(--color-green-500);
        --color-error: var(--color-red-500);

        /* Typography */
        --font-family-base: 'Inter', sans-serif;
        --font-family-heading: 'Poppins', sans-serif;
        --font-size-xs: 0.75rem;
        --font-size-sm: 0.875rem;
        --font-size-base: 1rem;
        --font-size-md: 1.125rem;
        --font-size-lg: 1.5rem;
        --font-size-xl: 2rem;
        --font-size-2xl: 2.5rem;
        --font-weight-normal: 400;
        --font-weight-medium: 500;
        --font-weight-bold: 700;

        /* Spacing */
        --space-4: 0.25rem;
        --space-8: 0.5rem;
        --space-12: 0.75rem;
        --space-16: 1rem;
        --space-24: 1.5rem;
        --space-32: 2rem;
        --space-48: 3rem;

        /* Radius and Shadows */
        --radius-sm: 0.25rem;
        --radius-base: 0.5rem;
        --shadow-sm: 0 2px 4px rgba(0, 0, 0, 0.1);
        --shadow-md: 0 4px 8px rgba(0, 0, 0, 0.15);
        --duration-fast: 200ms;
        --ease-standard: ease-in-out;
    }

    /* Page baseline */
    html,body { height:100%; }
    body{
      margin:0;
      font-family:var(--font-family-base);
      background:var(--color-background);
      color:var(--color-text);
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      line-height:1.6;
      padding: 0 var(--space-16) var(--space-32);
    }

    /* Header */
    header.site-header{
      background:linear-gradient(90deg,var(--color-primary),var(--color-indigo-600));
      color:var(--color-white);
      padding:var(--space-16) 0;
      border-radius: var(--radius-base);
      box-shadow: var(--shadow-sm);
      margin: var(--space-16) 0;
    }
    .site-header .container {
      max-width:1100px; margin:0 auto; display:flex; align-items:center; gap:var(--space-12); justify-content:space-between; padding:0 var(--space-16);
    }
    .brand-title { font-family:var(--font-family-heading); font-weight:var(--font-weight-bold); font-size:var(--font-size-md); letter-spacing:0.4px; }
    .brand-sub { font-size:var(--font-size-sm); opacity:0.95; }
    .muted-header { color:var(--color-gray-200); font-size:var(--font-size-sm); }

    /* Main layout */
    main.container {
      max-width:1100px;
      margin: var(--space-16) auto 0;
      display:flex;
      gap: var(--space-24);
      align-items:flex-start;
    }

    /* Form card */
    .panel {
      background:var(--color-surface);
      border-radius: var(--radius-base);
      box-shadow: var(--shadow-md);
      padding: var(--space-24);
      width: 360px;
      max-width: 100%;
    }
    .panel h2 { margin:0 0 var(--space-12); font-family:var(--font-family-heading); font-size:var(--font-size-md); color:var(--color-primary); }
    .field { margin-top:var(--space-12); display:flex; flex-direction:column; gap:var(--space-8); }
    label { font-weight:var(--font-weight-medium); color:var(--color-text); font-size:var(--font-size-sm); }
    input[type="text"], input[type="email"], input[type="tel"], textarea, select {
      border:1px solid var(--color-border); background:var(--color-background);
      padding:var(--space-8) var(--space-12); border-radius:var(--radius-sm); font-size:var(--font-size-sm); color:var(--color-text);
      font-family: var(--font-family-base);
      transition: border-color var(--duration-fast) var(--ease-standard);
    }
    input:focus, textarea:focus, select:focus {
        outline: none;
        border-color: var(--color-primary);
        box-shadow: 0 0 0 2px rgba(75, 0, 130, 0.1);
    }
    textarea { min-height:64px; resize:vertical; }
    input[type="file"] { font-size:var(--font-size-sm); }
    .muted { color:var(--color-text-secondary); font-size:var(--font-size-sm); }

    .btn {
      display:inline-flex; align-items:center; gap:var(--space-8); border:0; cursor:pointer; border-radius:var(--radius-base); padding:var(--space-12) var(--space-24);
      font-weight:var(--font-weight-medium); font-family:var(--font-family-heading);
      transition: all var(--duration-fast) var(--ease-standard);
    }
    .btn-primary { background:var(--color-primary); color:var(--color-white); }
    .btn-primary:hover { background:var(--color-primary-hover); }
    .btn-secondary { background:var(--color-secondary); color:var(--color-white); }
    .btn-secondary:hover { background:var(--color-secondary-hover); }
    .btn-ghost { background:transparent; color:var(--color-primary); border:1px solid var(--color-border); padding:var(--space-8) var(--space-12); }
    .btn-ghost:hover { background:var(--color-gray-100); }
    .btn:focus { outline:3px solid rgba(75, 0, 130, 0.12); }

    .small-list { list-style:none; padding:0; margin:var(--space-8) 0 0;}
    .small-list li { display:flex; justify-content:space-between; gap:var(--space-8); align-items:center; margin-bottom:var(--space-8); background:var(--color-gray-100); padding:var(--space-8); border-radius:var(--radius-sm); }
    .small-list .remove-btn { background:none; border:none; color:var(--color-red-500); font-weight:var(--font-weight-medium); cursor:pointer; font-size:var(--font-size-sm); }

    /* Resume preview */
    #resumePreview {
      width: 710px;
      min-height: 900px;
      background:var(--color-surface);
      border-radius: var(--radius-base);
      box-shadow: var(--shadow-md);
      display:flex;
      overflow:hidden;
      font-size: 0.98rem;
    }
    .preview-left {
      width:220px; background:linear-gradient(180deg, rgba(75,0,130,0.06), rgba(255,111,97,0.04));
      padding:var(--space-24) var(--space-16); display:flex; flex-direction:column; gap:var(--space-24); color:var(--color-primary);
      flex-shrink:0;
    }
    .preview-photo { width:72px; height:72px; border-radius:50%; object-fit:cover; border:2px solid var(--color-primary); background:var(--color-gray-100); margin:0 auto; display:block; }
    .preview-name { text-align:center; font-weight:var(--font-weight-bold); color:var(--color-primary); font-size:var(--font-size-md); }
    .preview-job { text-align:center; color:var(--color-text-secondary); margin-bottom:var(--space-8); font-size:var(--font-size-sm); }

    .preview-left .label { font-weight:var(--font-weight-bold); color:var(--color-text); margin-top:var(--space-8); font-size:var(--font-size-sm); }
    .preview-left ul { list-style:none; padding:0; margin:var(--space-8) 0 0; color:var(--color-text); font-size:var(--font-size-sm); }
    .skill-bar { height:8px; background:var(--color-gray-200); border-radius:5px; overflow:hidden; margin-top:4px; }
    .skill-bar > span { display:block; height:100%; background:var(--color-primary); }
    .preview-left li { margin-bottom: var(--space-4); }

    .preview-main { flex:1; padding:var(--space-24); color:var(--color-text); }
    .preview-title { font-size:var(--font-size-md); font-weight:var(--font-weight-bold); color:var(--color-primary); margin-bottom:var(--space-8); }
    .preview-summary { font-style:italic; color:var(--color-text-secondary); margin-bottom:var(--space-12); font-size:var(--font-size-sm); }

    .section-divider { border-bottom:1px solid var(--color-card-border); margin:var(--space-12) 0; }

    .section-title { color:var(--color-secondary); font-weight:var(--font-weight-bold); margin-bottom:var(--space-12); font-size:var(--font-size-sm); }

    .exp-item, .edu-item { margin-bottom:var(--space-16); }
    .exp-role { font-weight:var(--font-weight-bold); color:var(--color-text); }
    .exp-org { color:var(--color-text); margin-bottom:2px; font-size:var(--font-size-sm); }
    .exp-dates { color: var(--color-text-secondary); font-size:var(--font-size-xs); margin-bottom:var(--space-8); }
    .exp-desc { font-size:var(--font-size-sm); }

    /* Responsive */
    @media (max-width: 1100px) {
        main.container { flex-direction: column; padding: var(--space-16) 0; align-items: center; }
        #resumePreview { width: 100%; min-width: 0; }
        .panel { width: 100%; }
        .site-header .container { flex-direction: column; text-align: center; }
        .muted-header { margin-top: var(--space-8); }
    }

    @media (max-width: 768px) {
      #resumePreview { flex-direction: column; }
      .preview-left { width: auto; flex-direction: column; text-align: center; }
      .preview-photo { margin-bottom: var(--space-8); }
      .preview-left .label { margin-top: var(--space-16); text-align: left; }
      .preview-left > div { text-align: left; }
      .preview-main { padding: var(--space-16); }
      .preview-summary { text-align: left; }
      .exp-item, .edu-item { padding: var(--space-8) 0; }
    }

    /* small helper */
    .visually-hidden { position:absolute !important; height:1px; width:1px; overflow:hidden; clip:rect(1px,1px,1px,1px); white-space:nowrap; }
    hr { border-color: var(--color-border); }
  </style>
</head>

<body>
  <header class="site-header" role="banner">
    <div class="container">
      <div>
        <div class="brand-title">EffortlesslyDone</div>
        <div class="brand-sub">Free Modern Resume Builder</div>
      </div>
      <div class="muted-header">Make a resume. Download PDF. Free.</div>
    </div>
  </header>

  <main class="container" role="main" aria-labelledby="pageTitle">
    <h1 id="pageTitle" class="visually-hidden">Create your modern resume</h1>

    <form id="resumeForm" class="panel" autocomplete="off" novalidate aria-describedby="formHelp" onsubmit="return false;">
      <h2>Personal Info</h2>

      <div id="formHelp" class="muted">Fill details and see live preview. Use the export button to download PDF.</div>

      <div class="field">
        <label for="fullName">Full name</label>
        <input id="fullName" type="text" placeholder="e.g. Diya Agarwal" />
      </div>

      <div class="field">
        <label for="jobTitle">Job title</label>
        <input id="jobTitle" type="text" placeholder="e.g. Retail Sales Associate" />
      </div>

      <div class="field">
        <label for="email">Email</label>
        <input id="email" type="email" inputmode="email" placeholder="you@example.com" />
      </div>

      <div class="field">
        <label for="phone">Phone</label>
        <input id="phone" type="tel" inputmode="tel" placeholder="+91 12345 67890" />
      </div>

      <div class="field">
        <label for="location">Location (city, country)</label>
        <input id="location" type="text" placeholder="Mumbai, India" />
      </div>

      <div class="field">
        <label for="photoUpload">Profile photo (optional)</label>
        <input id="photoUpload" type="file" accept="image/*" aria-label="Upload profile photo" />
      </div>

      <hr style="margin:12px 0;border:none;border-top:1px solid var(--color-border);">

      <h2>Skills</h2>
      <div class="field" style="flex-direction:row;gap:8px;align-items:center;">
        <input id="skillInput" type="text" placeholder="Skill name (e.g. Excel)" style="flex:1;" />
        <select id="skillLevel" aria-label="skill level">
          <option value="100">Expert</option>
          <option value="80">Proficient</option>
          <option value="55">Intermediate</option>
          <option value="30">Basic</option>
        </select>
      </div>
      <div style="margin-top:8px;">
        <button id="addSkillBtn" type="button" class="btn btn-primary">Add skill</button>
      </div>
      <ul id="skillsList" class="small-list" aria-live="polite"></ul>

      <h2>Languages</h2>
      <div class="field" style="flex-direction:row;gap:8px;align-items:center;">
        <input id="languageInput" type="text" placeholder="Language (e.g. English)" style="flex:1;" />
        <select id="langLevel" aria-label="language level">
          <option value="C2">Proficient</option>
          <option value="C1">Advanced</option>
          <option value="B2">Upper-intermediate</option>
          <option value="B1">Intermediate</option>
          <option value="A2">Basic</option>
          <option value="A1">Beginner</option>
        </select>
      </div>
      <div style="margin-top:8px;">
        <button id="addLangBtn" type="button" class="btn btn-primary">Add language</button>
      </div>
      <ul id="langsList" class="small-list" aria-live="polite"></ul>

      <hr style="margin:12px 0;border:none;border-top:1px solid var(--color-border);">

      <h2>Experience</h2>
      <div id="expFields" aria-live="polite"></div>
      <div style="margin-top:8px;">
        <button id="addExpBtn" type="button" class="btn btn-primary">+ Add experience</button>
      </div>

      <h2 style="margin-top:18px;">Education</h2>
      <div id="eduFields" aria-live="polite"></div>
      <div style="margin-top:8px;">
        <button id="addEduBtn" type="button" class="btn btn-primary">+ Add education</button>
      </div>

      <h2 style="margin-top:18px;">Summary</h2>
      <div class="field">
        <label for="summary">Short professional summary</label>
        <textarea id="summary" placeholder="2–4 lines highlighting strengths and skills"></textarea>
      </div>

      <div style="margin-top:14px; display:flex; gap:var(--space-12); flex-wrap:wrap;">
        <button id="exportPDF" type="button" class="btn btn-secondary" aria-label="Export resume as PDF"><i class="fas fa-file-pdf"></i> Export as PDF</button>
       <a href="../index.html" class="btn btn-ghost" rel="noopener noreferrer">More tools <i class="fas fa-arrow-right"></i></a>
      </div>

      <div style="margin-top:12px; font-size:var(--font-size-sm);" class="muted">
        Contact: <a href="mailto:decomplicate001@gmail.com" style="color:var(--color-primary); text-decoration:none;">decomplicate001@gmail.com</a>
      </div>
    </form>

    <aside id="resumePreview" class="panel" role="region" aria-label="Live resume preview" aria-live="polite">
      <div class="preview-left" id="previewLeft">
        <img id="previewPhoto" class="preview-photo" alt="Profile photo" style="display:none;" />
        <div>
          <div id="previewName" class="preview-name">Your Name</div>
          <div id="previewJob" class="preview-job">Job Title</div>
        </div>

        <div>
          <div class="label">CONTACT</div>
          <ul id="previewContact" aria-hidden="false" style="margin-top:6px;"></ul>
        </div>

        <div>
          <div class="label">SKILLS</div>
          <ul id="previewSkills" style="margin-top:6px;"></ul>
        </div>

        <div>
          <div class="label">LANGUAGES</div>
          <ul id="previewLangs" style="margin-top:6px;"></ul>
        </div>
      </div>

      <div class="preview-main">
        <div>
          <div id="previewTitle" class="preview-title">SUMMARY</div>
          <div id="previewSummary" class="preview-summary">A dedicated professional with relevant experience. Fill in your summary to personalize this section.</div>
        </div>

        <div class="section-divider" role="separator" aria-hidden="true"></div>

        <div>
          <div class="section-title">EXPERIENCE</div>
          <div id="previewExp"></div>
        </div>

        <div class="section-divider" role="separator" aria-hidden="true"></div>

        <div>
          <div class="section-title">EDUCATION</div>
          <div id="previewEdu"></div>
        </div>
      </div>
    </aside>
  </main>

  <script>
  // ------- Utility shortcuts -------
  const $ = (s, root = document) => root.querySelector(s);
  const $$ = (s, root = document) => Array.from(root.querySelectorAll(s));

  // ------- Data stores -------
  let skillsArr = [];
  let langsArr = [];
  let expArr = [];
  let eduArr = [];

  // ------- DOM refs -------
  const refs = {
    fullName: $('#fullName'),
    jobTitle: $('#jobTitle'),
    email: $('#email'),
    phone: $('#phone'),
    location: $('#location'),
    photoUpload: $('#photoUpload'),
    previewPhoto: $('#previewPhoto'),
    previewName: $('#previewName'),
    previewJob: $('#previewJob'),
    previewContact: $('#previewContact'),
    previewSkills: $('#previewSkills'),
    previewLangs: $('#previewLangs'),
    previewSummary: $('#previewSummary'),
    previewTitle: $('#previewTitle'),
    previewExp: $('#previewExp'),
    previewEdu: $('#previewEdu'),
    summary: $('#summary'),
    skillsList: $('#skillsList'),
    langsList: $('#langsList'),
    addSkillBtn: $('#addSkillBtn'),
    skillInput: $('#skillInput'),
    skillLevel: $('#skillLevel'),
    addLangBtn: $('#addLangBtn'),
    languageInput: $('#languageInput'),
    langLevel: $('#langLevel'),
    expFields: $('#expFields'),
    eduFields: $('#eduFields'),
    addExpBtn: $('#addExpBtn'),
    addEduBtn: $('#addEduBtn'),
    exportPDF: $('#exportPDF')
  };

  // ------- Helpers -------
  function sanitizeText(s){ return String(s || '').trim(); }
  function setText(el, text){
    if(!el) return;
    el.textContent = sanitizeText(text) || '';
  }

  // ------- Update preview functions -------
  function updateSidebar(){
    setText(refs.previewName, refs.fullName.value || 'Your Name');
    setText(refs.previewJob, refs.jobTitle.value || 'Job Title');

    // contact
    refs.previewContact.innerHTML = '';
    if(refs.email.value){ refs.previewContact.innerHTML += `<li>${refs.email.value}</li>`; }
    if(refs.phone.value){ refs.previewContact.innerHTML += `<li>${refs.phone.value}</li>`; }
    if(refs.location.value){ refs.previewContact.innerHTML += `<li>${refs.location.value}</li>`; }

    // skills
    refs.previewSkills.innerHTML = '';
    skillsArr.forEach(s => {
      const li = document.createElement('li');
      li.innerHTML = `
        <div style="font-weight:600;">${s.name}</div>
        <div class="skill-bar" aria-hidden="true"><span style="width:${s.level}%"></span></div>
      `;
      refs.previewSkills.appendChild(li);
    });

    // languages
    refs.previewLangs.innerHTML = '';
    langsArr.forEach(l => {
      const li = document.createElement('li');
      li.innerHTML = `${l.lang} <span style="color:var(--color-primary); font-size:0.92em;">(${l.level})</span>`;
      refs.previewLangs.appendChild(li);
    });
  }

  function updateSummary(){
    refs.previewSummary.textContent = refs.summary.value.trim() || 'A dedicated professional with relevant experience. Fill in your summary to personalize this section.';
    refs.previewTitle.textContent = 'SUMMARY';
  }

  function updateExperience(){
    refs.previewExp.innerHTML = '';
    expArr.forEach(x => {
      const wrapper = document.createElement('div');
      wrapper.className = 'exp-item';
      wrapper.innerHTML = `
        <div class="exp-role">${x.position || ''}</div>
        <div class="exp-org">${x.company || ''}</div>
        <div class="exp-dates">${x.dates || ''}</div>
        <div class="exp-desc">${x.desc || ''}</div>
      `;
      refs.previewExp.appendChild(wrapper);
    });
  }

  function updateEducation(){
    refs.previewEdu.innerHTML = '';
    eduArr.forEach(e => {
      const wrapper = document.createElement('div');
      wrapper.className = 'edu-item';
      wrapper.innerHTML = `
        <div class="exp-role">${e.degree || ''}</div>
        <div class="exp-org">${e.school || ''}</div>
        <div class="exp-dates">${e.dates || ''}</div>
      `;
      refs.previewEdu.appendChild(wrapper);
    });
  }

  // ------- Skills -------
  function renderSkillList(){
    refs.skillsList.innerHTML = '';
    skillsArr.forEach((s, idx) => {
      const li = document.createElement('li');
      li.innerHTML = `${s.name} <button type="button" class="remove-btn" data-idx="${idx}"><i class="fas fa-times-circle"></i></button>`;
      refs.skillsList.appendChild(li);
    });
    // attach remove handlers
    $$('button.remove-btn', refs.skillsList).forEach(btn => {
      btn.addEventListener('click', (ev) => {
        const i = Number(ev.currentTarget.dataset.idx);
        skillsArr.splice(i,1); renderSkillList(); updateSidebar();
      });
    });
  }

  refs.addSkillBtn.addEventListener('click', () => {
    const name = sanitizeText(refs.skillInput.value);
    const level = Number(refs.skillLevel.value);
    if(!name) return;
    skillsArr.push({name, level});
    refs.skillInput.value = '';
    renderSkillList(); updateSidebar();
  });

  // ------- Languages -------
  function renderLangList(){
    refs.langsList.innerHTML = '';
    langsArr.forEach((l, idx) => {
      const li = document.createElement('li');
      li.innerHTML = `${l.lang} (${l.level}) <button type="button" class="remove-btn" data-idx="${idx}"><i class="fas fa-times-circle"></i></button>`;
      refs.langsList.appendChild(li);
    });
    $$('button.remove-btn', refs.langsList).forEach(btn => {
      btn.addEventListener('click', (ev) => {
        const i = Number(ev.currentTarget.dataset.idx);
        langsArr.splice(i,1); renderLangList(); updateSidebar();
      });
    });
  }

  refs.addLangBtn.addEventListener('click', () => {
    const lang = sanitizeText(refs.languageInput.value);
    const level = refs.langLevel.selectedOptions[0].text;
    if(!lang) return;
    langsArr.push({lang, level});
    refs.languageInput.value = '';
    renderLangList(); updateSidebar();
  });

  // ------- Experience fields management -------
  function addExpFields(obj = {}){
    const cont = document.createElement('div');
    cont.className = 'exp-entry';
    cont.innerHTML = `
      <div style="display:flex;gap:8px;flex-wrap:wrap;">
        <div style="flex:1">
          <label>Position</label><input class="expPosition" type="text" value="${obj.position||''}" />
        </div>
        <div style="width:160px">
          <label>Dates</label><input class="expDates" type="text" value="${obj.dates||''}" placeholder="e.g. Feb 2017 - Current" />
        </div>
      </div>
      <div class="field"><label>Company</label><input class="expCompany" type="text" value="${obj.company||''}" /></div>
      <div class="field"><label>Description</label><textarea class="expDesc">${obj.desc||''}</textarea></div>
      <div style="margin-top:8px;"><button type="button" class="btn btn-ghost remove-exp"><i class="fas fa-trash-alt"></i> Remove</button></div>
      <hr style="border:none;border-top:1px solid var(--color-border);margin:12px 0;">
    `;
    cont.querySelector('.remove-exp').addEventListener('click', () => { cont.remove(); pullExpArr(); });
    refs.expFields.appendChild(cont);
  }

  function pullExpArr(){
    expArr = [];
    $$('.exp-entry', refs.expFields).forEach(el => {
      expArr.push({
        position: el.querySelector('.expPosition').value,
        company: el.querySelector('.expCompany').value,
        dates: el.querySelector('.expDates').value,
        desc: el.querySelector('.expDesc').value
      });
    });
    updateExperience();
  }

  refs.addExpBtn.addEventListener('click', () => { addExpFields(); });

  // ------- Education fields management -------
  function addEduFields(obj = {}){
    const cont = document.createElement('div');
    cont.className = 'edu-entry';
    cont.innerHTML = `
      <div style="display:flex;gap:8px;flex-wrap:wrap;">
        <div style="flex:1">
          <label>Degree</label><input class="eduDegree" type="text" value="${obj.degree||''}" />
        </div>
        <div style="width:160px">
          <label>Dates</label><input class="eduDates" type="text" value="${obj.dates||''}" placeholder="e.g. 2016" />
        </div>
      </div>
      <div class="field"><label>School</label><input class="eduSchool" type="text" value="${obj.school||''}" /></div>
      <div style="margin-top:8px;"><button type="button" class="btn btn-ghost remove-edu"><i class="fas fa-trash-alt"></i> Remove</button></div>
      <hr style="border:none;border-top:1px solid var(--color-border);margin:12px 0;">
    `;
    cont.querySelector('.remove-edu').addEventListener('click', () => { cont.remove(); pullEduArr(); });
    refs.eduFields.appendChild(cont);
  }

  function pullEduArr(){
    eduArr = [];
    $$('.edu-entry', refs.eduFields).forEach(el => {
      eduArr.push({
        degree: el.querySelector('.eduDegree').value,
        school: el.querySelector('.eduSchool').value,
        dates: el.querySelector('.eduDates').value
      });
    });
    updateEducation();
  }

  refs.addEduBtn.addEventListener('click', () => { addEduFields(); });

  // ------- Photo preview -------
  refs.photoUpload.addEventListener('change', (ev) => {
    const file = ev.target.files[0];
    if(!file){ refs.previewPhoto.style.display='none'; return; }
    const reader = new FileReader();
    reader.onload = e => { refs.previewPhoto.src = e.target.result; refs.previewPhoto.style.display='block'; };
    reader.readAsDataURL(file);
  });

  // ------- Global update triggers -------
  function globalUpdate(){
    pullExpArr(); pullEduArr();
    updateSidebar(); updateSummary(); updateExperience(); updateEducation();
  }

  // update on input fields
  ['input','change'].forEach(evt => {
    $('#resumeForm').addEventListener(evt, () => { globalUpdate(); });
  });

  // ------- Export PDF -------
  refs.exportPDF.addEventListener('click', () => {
    // choose the preview element
    const element = document.getElementById('resumePreview');
    // filename fallback
    const filename = (refs.fullName.value.trim() || 'resume').replace(/\s+/g,'_').toLowerCase() + '.pdf';
    html2pdf().set({
      margin: 10,
      filename,
      html2canvas: { scale: 2, letterRendering: true, backgroundColor: "#ffffff" },
      jsPDF: { unit: 'pt', format: 'a4', orientation: 'portrait' }
    }).from(element).save();
  });

  // ------- Init with one blank exp/edu -------
  addExpFields();
  addEduFields();
  updateSidebar();
  updateSummary();
  updateExperience();
  updateEducation();
  </script>
</body>

</html>
