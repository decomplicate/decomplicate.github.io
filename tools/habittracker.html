<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Gamified Habit Tracker ‚Äî Build Positive Habits with Streaks & XP</title>
  <meta name="description" content="Track your daily and weekly habits with this gamified habit tracker. Earn XP, badges, and track your streaks." />
  <meta name="keywords" content="habit tracker, gamified habit, productivity, streaks, badges, xp, habit building" />
  <meta name="author" content="EffortlesslyDone / Decomplicate" />

  <!-- Open Graph -->
  <meta property="og:title" content="Gamified Habit Tracker ‚Äî Build Positive Habits" />
  <meta property="og:description" content="A simple gamified habit tracker to help you stay on track with your goals." />
  <meta property="og:type" content="website" />

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Gamified Habit Tracker" />
  <meta name="twitter:description" content="Track habits, earn badges, and stay motivated with this free online tool." />
  
  <!-- Structured Data -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebApplication",
    "name": "EffortlesslyDone Habit Tracker",
    "url": "https://yourdomain.example/habit-tracker",
    "applicationCategory": "ProductivityApplication",
    "operatingSystem": "All",
    "description": "Gamified habit tracker to help you build and maintain positive habits.",
    "author": {
      "@type": "Organization",
      "name": "EffortlesslyDone"
    }
  }
  </script>

  <!-- Site-wide styles & fonts -->
  <link rel="stylesheet" href="../style.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Poppins:wght@500;700&display=swap" rel="stylesheet">
  
  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <style>
    /* Keep homepage header fixed and avoid content overlap */
    main { padding-top: 90px; }

    /* Habit Tracker specific styles */
    .app { max-width: 1100px; margin: var(--space-16) auto; }
    .panel {
      background: var(--color-surface);
      border-radius: var(--radius-base);
      box-shadow: var(--shadow-md);
      padding: var(--space-24);
      margin-bottom: var(--space-16);
    }
    .habits-list { display: flex; flex-direction: column; gap: var(--space-12); }
    .habit-row {
      display: flex; gap: var(--space-12); align-items: center;
      padding: var(--space-12); border-radius: var(--radius-base);
      background: var(--color-gray-100);
    }
    .icon { font-size: 1.5rem; width: 44px; text-align: center; }
    .progress-bar {
      height: 8px; background: var(--color-gray-200);
      border-radius: 5px; overflow: hidden;
    }
    .progress {
      height: 100%;
      background: linear-gradient(90deg, var(--color-primary), var(--color-secondary));
      width: 0%;
    }
    .actions { display: flex; gap: var(--space-8); }
    .small { font-size: var(--font-size-sm); color: var(--color-text-secondary); }
    .visually-hidden {
      position:absolute !important; height:1px; width:1px; overflow:hidden;
      clip:rect(1px,1px,1px,1px); white-space:nowrap;
    }
  </style>
</head>
<body>
  <!-- Site Header from homepage -->
  <header class="header">
    <div class="container header__content">
      <div class="header__logo">
        <h1><i class="fas fa-rocket"></i> EffortlesslyDone</h1>
      </div>
      <nav class="header__nav" id="nav">
        <a href="../index.html" class="nav-link">Home</a>
        <a href="../index.html#templates" class="nav-link">Templates</a>
        <a href="../index.html#tools" class="nav-link active">Tools</a>
        <a href="../index.html#games" class="nav-link">Games</a>
        <a href="../index.html#about" class="nav-link">About</a>
      </nav>
      <div class="header__search">
        <input type="text" id="searchInput" class="search-input" placeholder="Search...">
        <button id="searchBtn" class="btn btn--primary search-btn"><i class="fas fa-search"></i></button>
      </div>
      <button id="mobileMenuBtn" class="mobile-menu-btn">
        <span></span><span></span><span></span>
      </button>
    </div>
  </header>

  <!-- Main Habit Tracker App -->
  <main class="container" role="main" aria-labelledby="pageTitle">
    <h1 id="pageTitle" class="visually-hidden">Gamified Habit Tracker</h1>
    <div class="app">
      <div class="panel">
        <h3>Add Habit</h3>
        <form id="addHabitForm">
          <label for="habitTitle">Name</label>
          <input id="habitTitle" type="text" placeholder="e.g. Drink Water" required />
          <label for="habitIcon">Emoji Icon</label>
          <select id="habitIcon">
            <option>‚úÖ</option><option>üíß</option><option>üèÉ‚Äç‚ôÄÔ∏è</option>
            <option>üìñ</option><option>üßò‚Äç‚ôÇÔ∏è</option><option>üõå</option>
          </select>
          <label for="habitFreq">Frequency</label>
          <select id="habitFreq">
            <option value="daily">Daily</option>
            <option value="weekly">Weekly</option>
          </select>
          <label for="habitGoal">Goal (times/day)</label>
          <input id="habitGoal" type="number" min="1" max="20" value="1" />
          <div style="display:flex;gap:var(--space-12);margin-top:var(--space-16);">
            <button class="btn btn--secondary" type="submit"><i class="fas fa-plus"></i> Add</button>
            <button type="button" class="btn btn--primary" id="btnClear"><i class="fas fa-eraser"></i> Clear All</button>
          </div>
        </form>
      </div>

      <div class="panel">
        <h3>Dashboard</h3>
        <div class="small" id="motivationPhrase">Small daily improvements lead to big results.</div>
        <div class="small">Level progress (total completions)</div>
        <div class="progress-bar">
          <div id="levelFill" class="progress"></div>
        </div>
        <div id="habitsContainer" class="habits-list"></div>
      </div>

      <div class="panel">
        <h3>Badges</h3>
        <div id="badgeContainer" class="small">No badges yet ‚Äî earn streaks to unlock awards.</div>
      </div>

      <div class="panel">
        <h3>Progress Chart (last 7 days)</h3>
        <canvas id="chartCanvas"></canvas>
      </div>

      <div class="panel" id="achPanel">
        <h3>Achievements</h3>
        <div id="achList" class="small">No achievements yet.</div>
      </div>

      <div class="panel">
        <h3>About</h3>
        <p class="small">This tracker stores data locally in your browser. It's free and private.</p>
        <p class="small">Contact: <a href="mailto:decomplicate001@gmail.com" style="color:var(--color-primary);">decomplicate001@gmail.com</a></p>
        <a href="../index.html" class="btn btn--secondary">More tools <i class="fas fa-arrow-right"></i></a>
      </div>
    </div>
  </main>

  <!-- Footer from homepage -->
  <footer class="footer">
    <div class="container footer__content">
      <div class="footer__section">
        <h3>EffortlesslyDone</h3>
        <p>Simplifying your digital life, one tool at a time.</p>
      </div>
            
    </div>
  </footer>





<script>
/* ========================
  Gamified Habit Tracker (Local Storage Only)
======================== */

/* ---------- CONFIG ---------- */
const LOCAL_KEY = 'HABIT_GUEST_V1';

/* ---------- utility ---------- */
function $(sel){ return document.querySelector(sel); }
function $all(sel){ return Array.from(document.querySelectorAll(sel)); }
function todayKey(){ return new Date().toISOString().slice(0,10); }
function weekKey(){ let d=new Date(); d.setHours(0,0,0,0); d.setDate(d.getDate()-d.getDay()); return d.toISOString().slice(0,10); }
function capitalize(s){ return s.charAt(0).toUpperCase() + s.slice(1); }

/* ---------- default sample data ---------- */
const SAMPLE_HABITS = [
  { title: "Drink Water", icon:"üíß", frequency:"daily", goal:8, checkedDays:[], streakBest:0, streak:0, lastDone:null },
  { title: "Read", icon:"üìñ", frequency:"daily", goal:1, checkedDays:[], streakBest:0, streak:0, lastDone:null }
];

/* ---------- persistence: local guest ---------- */
function loadState(){
  try{
    const raw = localStorage.getItem(LOCAL_KEY);
    if(!raw) return { habits: SAMPLE_HABITS.slice(), xp:0, stats:{ totalCompletions:0 }, achievements:{} };
    return JSON.parse(raw);
  } catch(e){ return { habits: SAMPLE_HABITS.slice(), xp:0, stats:{ totalCompletions:0 }, achievements:{} }; }
}
function saveState(state){
  localStorage.setItem(LOCAL_KEY, JSON.stringify(state));
}

/* ---------- core logic ---------- */
let appState = null;

/* load from local storage */
function loadAppState(){
  appState = loadState();
  renderAll();
}

/* save appState to local storage */
function saveAppState(){
  if(!appState) return;
  saveState(appState);
  renderAll();
}

/* ---------- app operations: add habit, toggle, delete ---------- */
function addHabitFromForm(e){
  e.preventDefault();
  const title = $('#habitTitle').value.trim();
  const icon = $('#habitIcon').value || '‚úÖ';
  const frequency = $('#habitFreq').value;
  const goal = Math.max(1, parseInt($('#habitGoal').value || 1));
  if(!title) return alert('Enter habit name');
  appState.habits = appState.habits || [];
  // avoid duplicate
  if(appState.habits.some(h=>h.title.toLowerCase()===title.toLowerCase())){
    return alert('Habit already exists');
  }
  appState.habits.push({ title, icon, frequency, goal, checkedDays:[], streak:0, streakBest:0, lastDone:null });
  $('#addHabitForm').reset();
  saveAppState();
}

/* toggle today's completion (or weekly) */
function toggleComplete(idx){
  const h = appState.habits[idx];
  const key = h.frequency === 'daily' ? todayKey() : weekKey();
  h.checkedDays = h.checkedDays || [];
  const already = h.checkedDays.includes(key);
  if(!already){
    h.checkedDays.push(key);
    // update streak
    const last = h.lastDone ? new Date(h.lastDone) : null;
    const nowDate = new Date(key);
    if(!last) h.streak = 1;
    else {
      const diff = (nowDate - last) / 864e5;
      if((h.frequency==='daily' && diff === 1) || (h.frequency==='weekly' && diff >=6 && diff <=8)) h.streak = (h.streak||0)+1;
      else h.streak = 1;
    }
    h.lastDone = key;
    h.streakBest = Math.max(h.streakBest || 0, h.streak || 0);
    appState.stats.totalCompletions = (appState.stats.totalCompletions || 0) + 1;
    grantXP(10);
    checkAchievements();
  } else {
    // undo last instance
    const i = h.checkedDays.lastIndexOf(key);
    if(i > -1) {
      h.checkedDays.splice(i,1);
      appState.stats.totalCompletions = Math.max(0, (appState.stats.totalCompletions || 0) - 1);
      grantXP(-10);
      // re-calculate streak from scratch, as it is complex to undo
      h.lastDone = null; h.streak = 0; h.streakBest = Math.max(h.streakBest||0, h.streak);
      if(h.checkedDays.length > 0){
        let tempStreak = 0;
        let lastDay = null;
        h.checkedDays.sort().reverse().forEach(day => {
          if(!lastDay){ tempStreak++; lastDay = new Date(day); return; }
          const diff = (lastDay - new Date(day)) / 864e5;
          if((h.frequency==='daily' && diff === 1) || (h.frequency==='weekly' && diff >=6 && diff <=8)){ tempStreak++; lastDay = new Date(day); }
          else { tempStreak = 1; lastDay = new Date(day); } // reset
        });
        h.lastDone = h.checkedDays[h.checkedDays.length-1];
        h.streak = tempStreak;
        h.streakBest = Math.max(h.streakBest||0, h.streak);
      }
    }
  }
  saveAppState();
}

function deleteHabit(idx){
  if(!confirm('Are you sure you want to delete this habit?')) return;
  appState.habits.splice(idx,1);
  saveAppState();
}

/* ---------- XP & Leveling ---------- */
function grantXP(amount){
  appState.xp = Math.max(0, (appState.xp || 0) + amount);
}

const XP_PER_LEVEL = 100;
function getLevel(xp){
  return Math.floor(xp / XP_PER_LEVEL);
}
function getLevelProgress(xp){
  const currentXPInLevel = xp % XP_PER_LEVEL;
  return (currentXPInLevel / XP_PER_LEVEL) * 100;
}

/* ---------- Achievements & Badges (todo: make configurable) ---------- */
function checkAchievements(){
  if(!appState) return;
  appState.achievements = appState.achievements || {};
  if(appState.stats.totalCompletions >= 1 && !appState.achievements.firstComplete){
    appState.achievements.firstComplete = true;
    grantXP(50);
  }
}

/* ---------- UI: rendering functions ---------- */
function renderAll(){
  renderHabits();
  renderStats();
  renderAchievements();
  renderChart();
}

function renderStats(){
  const level = getLevel(appState.xp);
  const progress = getLevelProgress(appState.xp);
  $('#levelFill').style.width = progress + '%';
  $('#levelFill').setAttribute('title', `${progress.toFixed(0)}% to next level`);
}

function renderHabits(){
  const habits = appState.habits || [];
  $('#habitsContainer').innerHTML = '';
  if(habits.length === 0){
    $('#habitsContainer').innerHTML = `<div class="small" style="padding:var(--space-12);">You don't have any habits yet. Add one above!</div>`;
  }
  habits.forEach((h, idx) => {
    const isDone = h.checkedDays && h.checkedDays.includes(h.frequency === 'daily' ? todayKey() : weekKey());
    const row = document.createElement('div');
    row.className = 'habit-row';
    row.innerHTML = `
      <div class="icon">${h.icon}</div>
      <div style="flex:1">
        <div><strong>${h.title}</strong> <span class="small" style="color:var(--color-primary);">${capitalize(h.frequency)}</span></div>
        <div style="font-size:var(--font-size-sm);">
          <span style="color:var(--color-secondary);">Streak: ${h.streak||0}üî•</span>
        </div>
      </div>
      <div class="actions">
        <button class="btn btn-primary btn-sm" onclick="toggleComplete(${idx})" title="Toggle completion for today"><i class="fas fa-check"></i></button>
        <button class="btn btn-ghost btn-sm" onclick="deleteHabit(${idx})" title="Delete habit"><i class="fas fa-trash-alt"></i></button>
      </div>
    `;
    const checkBtn = row.querySelector('.btn-primary');
    if(isDone){ checkBtn.classList.remove('btn-primary'); checkBtn.classList.add('btn-secondary'); }
    $('#habitsContainer').appendChild(row);
  });
}

function renderAchievements(){
  const achs = appState.achievements || {};
  const achList = $('#achList');
  achList.innerHTML = '';
  if(Object.keys(achs).length === 0){
    achList.innerHTML = `No achievements yet.`;
  } else {
    for(const key in achs){
      const li = document.createElement('li');
      li.textContent = `‚≠ê Achievement unlocked: ${key}`; // todo: better text
      achList.appendChild(li);
    }
  }
}

// Chart stuff
let chart = null;
function renderChart(){
  const ctx = $('#chartCanvas').getContext('2d');
  const labels = [];
  const data = [];
  
  // Generate labels and data for the last 7 days
  for (let i = 6; i >= 0; i--) {
    const d = new Date();
    d.setDate(d.getDate() - i);
    labels.push(d.toLocaleDateString('en-US', { weekday: 'short' }));
    
    // Count completions for this day
    const dayKey = d.toISOString().slice(0, 10);
    let completions = 0;
    appState.habits.forEach(habit => {
      if (habit.checkedDays && habit.checkedDays.includes(dayKey)) {
        completions++;
      }
    });
    data.push(completions);
  }

  if(chart) chart.destroy();
  chart = new Chart(ctx, {
    type: 'bar',
    data: {
      labels: labels,
      datasets: [{
        label: 'Habits Completed',
        data: data,
        backgroundColor: 'rgba(75, 0, 130, 0.6)',
        borderColor: 'rgba(75, 0, 130, 1)',
        borderWidth: 1
      }]
    },
    options: {
      responsive: true,
      maintainAspectRatio: true,
      scales: {
        y: { beginAtZero: true, ticks: { precision: 0 } },
        x: { grid: { display: false } }
      },
      plugins: {
        legend: { display: false }
      }
    }
  });
}


/* ---------- Event Listeners & Init ---------- */
document.addEventListener('DOMContentLoaded', () => {
  // initial render
  if(!appState) {
    loadAppState();
  }

  $('#addHabitForm').addEventListener('submit', addHabitFromForm);
  $('#btnClear').addEventListener('click', () => {
    if(confirm('This will delete all your data. Are you sure?')) {
      localStorage.removeItem(LOCAL_KEY);
      loadAppState();
    }
  });
});
</script>
</body>
</html>